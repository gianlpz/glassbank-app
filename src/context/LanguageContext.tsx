import React, { createContext, useContext, useState, type ReactNode } from 'react';

type Language = 'en' | 'es' | 'pl' | 'zh';

interface LanguageContextType {
    language: Language;
    setLanguage: (lang: Language) => void;
    t: (key: string) => string;
}

// Translations dictionary
const translations: Record<Language, Record<string, string>> = {
    en: {
        welcome: 'Welcome to GlassBank',
        getStarted: 'Get Started',
        selectLanguage: 'Select Your Language',
        english: 'English',
        spanish: 'EspaÃ±ol',
        polish: 'Polski',
        mandarin: 'ä¸­æ–‡',
        continue: 'Continue',
        back: 'Back',
        home: 'Home',
        transactions: 'Transactions',
        cards: 'Cards',
        automations: 'Automations',
        more: 'More',
        balance: 'Balance',
        sendMoney: 'Send Money',
        payBill: 'Pay Bill',
        addMoney: 'Add Money',
        viewCards: 'Cards',
        recentTransactions: 'Recent Transactions',
        seeAll: 'See All',
        thisMonth: 'This Month',
        spending: 'Spending',
        remaining: 'Remaining',
        uploadID: 'Upload Your ID',
        frontOfID: 'Front of ID',
        backOfID: 'Back of ID',
        takeSelfie: 'Take a Selfie',
        verifying: 'Verifying Your Identity',
        verified: 'You\'re Verified!',
        setupAccount: 'Set Up Your Account',
        createPin: 'Create a PIN',
        confirmPin: 'Confirm PIN',
        whatsNew: 'What\'s New',
        skipTour: 'Skip Tour',
        gotIt: 'Got It',
        next: 'Next',
        settings: 'Settings',
        notifications: 'Notifications',
        profile: 'Profile',
        security: 'Security',
        language: 'Language',
        accessibilityMode: 'Accessibility Mode',
        standard: 'Standard',
        simplified: 'Simplified',
        createAutomation: 'Create Automation',
        recurringPayment: 'Recurring Payment',
        scheduledTransfer: 'Scheduled Transfer',
        roundUp: 'Round-Up Savings',
        dispute: 'Dispute Transaction',
        reportIssue: 'Report an Issue',
    },
    es: {
        welcome: 'Bienvenido a GlassBank',
        getStarted: 'Comenzar',
        selectLanguage: 'Selecciona Tu Idioma',
        english: 'English',
        spanish: 'EspaÃ±ol',
        polish: 'Polski',
        mandarin: 'ä¸­æ–‡',
        continue: 'Continuar',
        back: 'AtrÃ¡s',
        home: 'Inicio',
        transactions: 'Transacciones',
        cards: 'Tarjetas',
        automations: 'Automatizaciones',
        more: 'MÃ¡s',
        balance: 'Saldo',
        sendMoney: 'Enviar Dinero',
        payBill: 'Pagar Factura',
        addMoney: 'Agregar Dinero',
        viewCards: 'Tarjetas',
        recentTransactions: 'Transacciones Recientes',
        seeAll: 'Ver Todo',
        thisMonth: 'Este Mes',
        spending: 'Gastos',
        remaining: 'Restante',
        uploadID: 'Sube Tu IdentificaciÃ³n',
        frontOfID: 'Frente de ID',
        backOfID: 'Reverso de ID',
        takeSelfie: 'Tomar una Selfie',
        verifying: 'Verificando Tu Identidad',
        verified: 'Â¡EstÃ¡s Verificado!',
        setupAccount: 'Configura Tu Cuenta',
        createPin: 'Crear un PIN',
        confirmPin: 'Confirmar PIN',
        whatsNew: 'Novedades',
        skipTour: 'Saltar Tour',
        gotIt: 'Entendido',
        next: 'Siguiente',
        settings: 'ConfiguraciÃ³n',
        notifications: 'Notificaciones',
        profile: 'Perfil',
        security: 'Seguridad',
        language: 'Idioma',
        accessibilityMode: 'Modo de Accesibilidad',
        standard: 'EstÃ¡ndar',
        simplified: 'Simplificado',
        createAutomation: 'Crear AutomatizaciÃ³n',
        recurringPayment: 'Pago Recurrente',
        scheduledTransfer: 'Transferencia Programada',
        roundUp: 'Ahorro con Redondeo',
        dispute: 'Disputar TransacciÃ³n',
        reportIssue: 'Reportar un Problema',
    },
    pl: {
        welcome: 'Witamy w GlassBank',
        getStarted: 'Rozpocznij',
        selectLanguage: 'Wybierz SwÃ³j JÄ™zyk',
        english: 'English',
        spanish: 'EspaÃ±ol',
        polish: 'Polski',
        mandarin: 'ä¸­æ–‡',
        continue: 'Kontynuuj',
        back: 'Wstecz',
        home: 'GÅ‚Ã³wna',
        transactions: 'Transakcje',
        cards: 'Karty',
        automations: 'Automatyzacje',
        more: 'WiÄ™cej',
        balance: 'Saldo',
        sendMoney: 'WyÅ›lij PieniÄ…dze',
        payBill: 'ZapÅ‚aÄ‡ Rachunek',
        addMoney: 'Dodaj PieniÄ…dze',
        viewCards: 'Karty',
        recentTransactions: 'Ostatnie Transakcje',
        seeAll: 'Zobacz Wszystko',
        thisMonth: 'Ten MiesiÄ…c',
        spending: 'Wydatki',
        remaining: 'PozostaÅ‚o',
        uploadID: 'PrzeÅ›lij Dokument ToÅ¼samoÅ›ci',
        frontOfID: 'PrzÃ³d Dokumentu',
        backOfID: 'TyÅ‚ Dokumentu',
        takeSelfie: 'ZrÃ³b Selfie',
        verifying: 'Weryfikacja ToÅ¼samoÅ›ci',
        verified: 'JesteÅ› Zweryfikowany!',
        setupAccount: 'Skonfiguruj Konto',
        createPin: 'UtwÃ³rz PIN',
        confirmPin: 'PotwierdÅº PIN',
        whatsNew: 'Co Nowego',
        skipTour: 'PomiÅ„',
        gotIt: 'Rozumiem',
        next: 'Dalej',
        settings: 'Ustawienia',
        notifications: 'Powiadomienia',
        profile: 'Profil',
        security: 'BezpieczeÅ„stwo',
        language: 'JÄ™zyk',
        accessibilityMode: 'Tryb DostÄ™pnoÅ›ci',
        standard: 'Standardowy',
        simplified: 'Uproszczony',
        createAutomation: 'UtwÃ³rz AutomatyzacjÄ™',
        recurringPayment: 'PÅ‚atnoÅ›Ä‡ Cykliczna',
        scheduledTransfer: 'Zaplanowany Przelew',
        roundUp: 'OszczÄ™dzanie z ZaokrÄ…gleniem',
        dispute: 'Reklamacja Transakcji',
        reportIssue: 'ZgÅ‚oÅ› Problem',
    },
    zh: {
        welcome: 'æ¬¢è¿æ¥åˆ° GlassBank',
        getStarted: 'å¼€å§‹ä½¿ç”¨',
        selectLanguage: 'é€‰æ‹©æ‚¨çš„è¯­è¨€',
        english: 'English',
        spanish: 'EspaÃ±ol',
        polish: 'Polski',
        mandarin: 'ä¸­æ–‡',
        continue: 'ç»§ç»­',
        back: 'è¿”å›',
        home: 'é¦–é¡µ',
        transactions: 'äº¤æ˜“',
        cards: 'é“¶è¡Œå¡',
        automations: 'è‡ªåŠ¨åŒ–',
        more: 'æ›´å¤š',
        balance: 'ä½™é¢',
        sendMoney: 'è½¬è´¦',
        payBill: 'ä»˜è´¦å•',
        addMoney: 'å­˜æ¬¾',
        viewCards: 'é“¶è¡Œå¡',
        recentTransactions: 'æœ€è¿‘äº¤æ˜“',
        seeAll: 'æŸ¥çœ‹å…¨éƒ¨',
        thisMonth: 'æœ¬æœˆ',
        spending: 'æ”¯å‡º',
        remaining: 'å‰©ä½™',
        uploadID: 'ä¸Šä¼ æ‚¨çš„èº«ä»½è¯',
        frontOfID: 'èº«ä»½è¯æ­£é¢',
        backOfID: 'èº«ä»½è¯èƒŒé¢',
        takeSelfie: 'è‡ªæ‹',
        verifying: 'æ­£åœ¨éªŒè¯æ‚¨çš„èº«ä»½',
        verified: 'éªŒè¯æˆåŠŸï¼',
        setupAccount: 'è®¾ç½®æ‚¨çš„è´¦æˆ·',
        createPin: 'åˆ›å»º PIN ç ',
        confirmPin: 'ç¡®è®¤ PIN ç ',
        whatsNew: 'æ–°åŠŸèƒ½',
        skipTour: 'è·³è¿‡å¯¼è§ˆ',
        gotIt: 'çŸ¥é“äº†',
        next: 'ä¸‹ä¸€æ­¥',
        settings: 'è®¾ç½®',
        notifications: 'é€šçŸ¥',
        profile: 'ä¸ªäººèµ„æ–™',
        security: 'å®‰å…¨',
        language: 'è¯­è¨€',
        accessibilityMode: 'æ— éšœç¢æ¨¡å¼',
        standard: 'æ ‡å‡†',
        simplified: 'ç®€åŒ–',
        createAutomation: 'åˆ›å»ºè‡ªåŠ¨åŒ–',
        recurringPayment: 'å®šæœŸä»˜æ¬¾',
        scheduledTransfer: 'å®šæ—¶è½¬è´¦',
        roundUp: 'é›¶é’±å‚¨è“„',
        dispute: 'äº¤æ˜“äº‰è®®',
        reportIssue: 'æŠ¥å‘Šé—®é¢˜',
    },
};

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export function LanguageProvider({ children }: { children: ReactNode }) {
    const [language, setLanguage] = useState<Language>('en');

    const t = (key: string): string => {
        return translations[language][key] || key;
    };

    return (
        <LanguageContext.Provider value={{ language, setLanguage, t }}>
            {children}
        </LanguageContext.Provider>
    );
}

export function useLanguage() {
    const context = useContext(LanguageContext);
    if (!context) {
        throw new Error('useLanguage must be used within a LanguageProvider');
    }
    return context;
}

export const SUPPORTED_LANGUAGES: { code: Language; name: string; flag: string }[] = [
    { code: 'en', name: 'English', flag: 'ğŸ‡¬ğŸ‡§' },
    { code: 'es', name: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' },
    { code: 'pl', name: 'Polski', flag: 'ğŸ‡µğŸ‡±' },
    { code: 'zh', name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
];
